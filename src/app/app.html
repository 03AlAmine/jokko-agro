  <!-- Indicateur de chargement -->
    @if (isLoading) {
      <div class="loading-overlay">
        <div class="loading-spinner">
          <div class="spinner"></div>
          <p>Chargement...</p>
        </div>
      </div>
    }

    <div class="app-container">
      <!-- Sidebar conditionnel -->
      @if (showSidebar && sidebarConfig && !isLoading) {
        <app-sidebar
          [config]="sidebarConfig"
          [isCollapsed]="isCollapsed"
          (logout)="onLogout()"
        />
      }

      <!-- Contenu principal -->
      <main class="main-content" [class.with-sidebar]="showSidebar && sidebarConfig && !isLoading"
            [class.sidebar-collapsed]="isCollapsed">

        <!-- Indicateur de chargement minimal -->
        @if (isLoading && showSidebar) {
          <div class="content-loading">
            <div class="spinner small"></div>
          </div>
        }

        <router-outlet />
      </main>

      <!-- Assistant vocal conditionnel -->
      @if (showVoiceAssistant && !isLoading) {
        <app-voice-assistant />
      }
    </div>
