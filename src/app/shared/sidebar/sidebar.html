<aside class="sidebar" [class.collapsed]="isCollapsed">
  <!-- Header du sidebar -->
  <div class="sidebar-header">
    <div class="user-info">
      <div class="avatar" [style.backgroundColor]="getRoleColor()">
        {{ getInitials() }}
      </div>
      <div class="user-details" *ngIf="!isCollapsed">
        <h3>{{ userData?.fullName || 'Utilisateur' }}</h3>
        <p class="role-badge" [style.backgroundColor]="getRoleColor() + '20'"
           [style.color]="getRoleColor()">
          {{ getRoleLabel() }}
        </p>
      </div>
    </div>

    <button class="collapse-btn" (click)="toggleCollapse()" title="RÃ©duire/Afficher">
      {{ isCollapsed ? 'â†’' : 'â†' }}
    </button>
  </div>

  <!-- Navigation -->
  <nav class="sidebar-nav">
    <a *ngFor="let item of config.items"
       [routerLink]="item.route"
       routerLinkActive="active"
       [routerLinkActiveOptions]="{ exact: false }"
       class="nav-item"
       [title]="item.label"
       [class.disabled]="item.disabled">

      <span class="nav-icon">{{ item.icon }}</span>

      <span class="nav-label" *ngIf="!isCollapsed">
        {{ item.label }}
      </span>

      <span *ngIf="getItemBadge(item) && getItemBadge(item)! > 0" class="badge">
        {{ getItemBadge(item)! > 99 ? '99+' : getItemBadge(item) }}
      </span>
    </a>
  </nav>

  <!-- Footer du sidebar -->
  <div class="sidebar-footer">
    <!-- Indicateur de panier en version rÃ©duite -->
    <a *ngIf="isCollapsed && config.type === 'buyer' && cartItemCount > 0"
       routerLink="/buyer/cart"
       class="cart-mini-indicator">
      <span class="nav-icon">ğŸ›’</span>
      <span class="mini-badge">{{ cartItemCount }}</span>
    </a>

    <button class="logout-btn" (click)="onLogout()" *ngIf="!isCollapsed" title="DÃ©connexion">
      <span class="nav-icon">ğŸšª</span>
      <span class="nav-label">DÃ©connexion</span>
    </button>

    <button class="logout-btn collapsed" (click)="onLogout()" *ngIf="isCollapsed" title="DÃ©connexion">
      <span class="nav-icon">ğŸšª</span>
    </button>
  </div>
</aside>
